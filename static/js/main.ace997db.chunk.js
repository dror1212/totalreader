(this.webpackJsonptotalreader=this.webpackJsonptotalreader||[]).push([[0],{216:function(e,t,a){e.exports=a(384)},221:function(e,t,a){},241:function(e,t,a){},384:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(38),s=a.n(l),o=(a(221),a(61)),c=a.n(o),i=a(111),u=a(184),h=a(185),f=a(205),m=a(203),p=a(398),d=a(397),v=a(43),k=a(385),g=a(395),y=a(394),b=a(399),E=a(87),w=a(112),N=a.n(w),S=(a(240),a(241),[0,9,18,27,35,"??","??","??","??","??","??","??"]),x=[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5],j=function(e){Object(f.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={link:"",stats:[],chose:8,filter:!1},n}return Object(h.a)(a,[{key:"try",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=1;case 1:if(!(t<1945)){e.next=14;break}return e.prev=2,e.next=5,this.readTeam("https://www.total-football.org/team/".concat(t,"/squad/"));case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(2),console.log(t),e.abrupt("break",14);case 11:t+=1,e.next=1;break;case 14:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"readTeam",value:function(){var e=Object(i.a)(c.a.mark((function e(t){var a,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t||this.state.link,e.next=3,N.a.get("https://cors-anywhere.herokuapp.com/"+a).then((function(e){for(var t=e.data,a=0,r=0,l="data-age",s=[],o=n.state.stats;a<t.length;){if(t[a]===l[r]?r++:r=0,r+1===l.length){for(a-=10+l.length;'"'!==t[a];)a-=1;a+=1;for(var c="",i="",u="",h=!0;'"'!==t[a];)":"===t[a]?h=!1:","===t[a]?(h=!0,s.push({name:i,level:c}),c="",i=""):h?i+=t[a]:c+=t[a],a++;for(r=0,i="";a<t.length;){if(t[a]==='name="'[r]?r++:r=0,r==='name="'.length){for(a+=1;'"'!==t[a];)i+=t[a],a++;break}a++}for(r=0,i+=" ";a<t.length;){if(t[a]==='name="'[r]?r++:r=0,r==='name="'.length){for(a+=1;'"'!==t[a];)i+=t[a],a++;break}a++}for(r=0;a<t.length;){if(t[a]==='data-id="'[r]?r++:r=0,r==='data-id="'.length){for(a+=1;'"'!==t[a];)u+=t[a],a++;break}a++}r=0,o.push({id:u,player:i,info:s}),i="",s=[]}a+=1}n.setState({link:"",stats:o})}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readPage",value:function(){var e=this;N.a.get("https://cors-anywhere.herokuapp.com/"+this.state.link).then((function(t){for(var a=e.state.link.split("player/")[1].split("/"[0]),n=t.data,r=0,l="data-positions=",s=0,o=0,c="";r<n.length&&s+1!==l.length;)if(n[r]===l[s]?s++:s=0,c||n[r]!=="<title>"[o]?o=0:o++,r+=1,o+1==="<title>".length)for(;"<"!==n[++r];)c+=n[r];var i=[];if((r+=2)<n.length-1)for(var u="",h="",f=!0;'"'!==n[r];)":"===n[r]?f=!1:","===n[r]?(f=!0,i.push({name:h,level:u}),u="",h=""):f?h+=n[r]:u+=n[r],r++;var m=e.state.stats;m.push({id:a.join(""),player:c,info:i}),e.setState({stats:m,link:""})}))}},{key:"calculateStars",value:function(e){var t=-.5;return S.forEach((function(a){"??"===a||e>=a&&(t+=.5)})),t}},{key:"createInfoForPopup",value:function(){var e="";return x.forEach((function(t,a){e+="\n ".concat(S[a],"-").concat(S[a+1]," : ").concat(t,"  , ")})),e=e.slice(0,e.length-4)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"my-total-reader"},r.a.createElement(p.a,{className:"my-header",size:"huge"},"Total Reader"),r.a.createElement(d.a,{hoverable:!0,basic:!0,trigger:r.a.createElement(v.a,{className:"my-popup",name:"info"})},"The numbers you will see after the players position are the value of this player in this position, each value represent how many stars the player deserve.",r.a.createElement("br",null),this.createInfoForPopup()),r.a.createElement(k.a,{onClick:function(){e.setState({stats:[],chose:8})}},"Delete All"),r.a.createElement(g.a,{onSubmit:function(){if(e.state.link.length>0){var t=e.state.link.split("/");t[t.length-1]="","player"===t[t.length-2]||"player"===t[t.length-3]?e.readPage():"squad"===t[t.length-2]?e.readTeam():"team"===t[t.length-2]||"team"===t[t.length-3]?e.readTeam(e.state.link+"/squad/"):"All"===e.state.link&&e.try(),console.log(t)}}},r.a.createElement(g.a.Field,{className:"my-field"},r.a.createElement(k.a,{color:"twitter",type:"submit"},"Submit"),r.a.createElement(y.a,{className:"my-input",value:this.state.link,placeholder:"Link to a player/team...",onChange:function(t){e.setState({link:t.target.value})}}))),r.a.createElement(k.a,{onClick:function(){e.setState({filter:!e.state.filter})}},this.state.filter?"Filter":"Mark"),x.map((function(t){return r.a.createElement(k.a,{className:"my-button",color:e.state.chose===t?"yellow":"red",onClick:function(){e.setState({chose:t})}},t)})),r.a.createElement("div",{className:"player-info"},this.state.stats.map((function(t){return!e.state.filter||e.calculateStars(Number(t.info[0].level))>=e.state.chose?r.a.createElement(b.a,{className:"my-card"},r.a.createElement("a",{href:"https://www.total-football.org/player/".concat(t.id,"/")},r.a.createElement(p.a,{textAlign:"center",className:"info-name",size:"small"},t.player)),t.info.map((function(t){return r.a.createElement(E.a,{key:t.name,className:e.state.filter||e.state.chose!==e.calculateStars(Number(t.level))?"info-header":"info-header-mark"},t.name," : ",t.level,", stars:"," ",e.calculateStars(Number(t.level)))}))):null}))))}}]),a}(n.Component);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root"))}},[[216,1,2]]]);
//# sourceMappingURL=main.ace997db.chunk.js.map