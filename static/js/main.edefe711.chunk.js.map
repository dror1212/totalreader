{"version":3,"sources":["App.tsx","index.tsx"],"names":["values","mark","App","props","state","link","stats","name","chose","filter","i","this","readTeam","console","log","loopLink","str","axios","get","then","res","responseText","data","counter","follower","find","temp","names","length","level","status","push","setState","followerName","power","stars","forEach","value","className","Header","size","Button","onClick","Form","onSubmit","help","split","full","join","readPage","try","Field","color","type","Input","placeholder","onChange","e","target","map","index","calculateStars","Number","Card","textAlign","position","offset","key","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.edefe711.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Button, Header, Input, Form, Card } from \"semantic-ui-react\";\r\nimport axios from \"axios\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport \"./App.css\";\r\n\r\nconst stands = 16;\r\nconst values = [9, 18, 27, 35];\r\nconst mark = [0, 0.5, 1.0, 1.5, 2, 2.5, 3, 3.5, 4, 4.5, 5];\r\n\r\ninterface Iprops {}\r\n\r\ninterface Istate {\r\n  link: string;\r\n  stats: { name: string; level: string }[];\r\n  name: string[];\r\n  chose: number;\r\n  filter: boolean;\r\n}\r\n\r\nclass App extends Component<Iprops, Istate> {\r\n  constructor(props: Readonly<Iprops>) {\r\n    super(props);\r\n    this.state = {\r\n      link: \"\",\r\n      stats: [],\r\n      name: [],\r\n      chose: 8,\r\n      filter: false,\r\n    };\r\n  }\r\n\r\n  async try() {\r\n    let i = 1;\r\n    while (i < 1945) {\r\n      try {\r\n        await this.readTeam(`https://www.total-football.org/team/${i}/squad/`);\r\n      } catch {\r\n        console.log(i);\r\n        break;\r\n      }\r\n      i += 1;\r\n    }\r\n  }\r\n\r\n  async readTeam(loopLink?: string) {\r\n    const str = loopLink ? loopLink : this.state.link;\r\n    await axios\r\n      .get(\"https://cors-anywhere.herokuapp.com/\" + str)\r\n      .then((res) => {\r\n        const responseText = res.data;\r\n        let counter = 0;\r\n        let follower = 0;\r\n        const find = \"data-age\";\r\n        const findAfter = `name=\"`;\r\n        const temp = this.state.stats;\r\n        const names: string[] = this.state.name;\r\n        while (counter < responseText.length) {\r\n          if (responseText[counter] === find[follower]) {\r\n            follower++;\r\n          } else {\r\n            follower = 0;\r\n          }\r\n          if (follower + 1 === find.length) {\r\n            counter -= 10 + find.length;\r\n            while (responseText[counter] !== `\"`) {\r\n              counter -= 1;\r\n            }\r\n            counter += 1;\r\n            let level: string = \"\";\r\n            let name: string = \"\";\r\n            let status = true;\r\n            while (responseText[counter] !== `\"`) {\r\n              if (responseText[counter] === \":\") {\r\n                status = false;\r\n              } else if (responseText[counter] === \",\") {\r\n                status = true;\r\n                temp.push({ name, level });\r\n                level = \"\";\r\n                name = \"\";\r\n              } else if (status) {\r\n                name += responseText[counter];\r\n              } else {\r\n                level += responseText[counter];\r\n              }\r\n              counter++;\r\n            }\r\n            follower = 0;\r\n            name = \"\";\r\n            while (counter < responseText.length) {\r\n              if (responseText[counter] === findAfter[follower]) {\r\n                follower++;\r\n              } else {\r\n                follower = 0;\r\n              }\r\n              if (follower === findAfter.length) {\r\n                counter += 1;\r\n                while (responseText[counter] !== `\"`) {\r\n                  name += responseText[counter];\r\n                  counter++;\r\n                }\r\n                break;\r\n              }\r\n              counter++;\r\n            }\r\n            follower = 0;\r\n            name += \" \";\r\n            while (counter < responseText.length) {\r\n              if (responseText[counter] === findAfter[follower]) {\r\n                follower++;\r\n              } else {\r\n                follower = 0;\r\n              }\r\n              if (follower === findAfter.length) {\r\n                counter += 1;\r\n                while (responseText[counter] !== `\"`) {\r\n                  name += responseText[counter];\r\n                  counter++;\r\n                }\r\n                break;\r\n              }\r\n              counter++;\r\n            }\r\n            follower = 0;\r\n            names.push(name);\r\n          }\r\n          counter += 1;\r\n        }\r\n        this.setState({ link: \"\", stats: temp, name: names });\r\n      });\r\n  }\r\n\r\n  readPage() {\r\n    axios\r\n      .get(\"https://cors-anywhere.herokuapp.com/\" + this.state.link)\r\n      .then((res) => {\r\n        const responseText = res.data;\r\n        let counter = 0;\r\n        const find = \"data-positions=\";\r\n        let follower = 0;\r\n        const findName = \"<title>\";\r\n        let followerName = 0;\r\n        let name = \"\";\r\n        while (counter < responseText.length && follower + 1 !== find.length) {\r\n          if (responseText[counter] === find[follower]) {\r\n            follower++;\r\n          } else {\r\n            follower = 0;\r\n          }\r\n          if (!name && responseText[counter] === findName[followerName]) {\r\n            followerName++;\r\n          } else {\r\n            followerName = 0;\r\n          }\r\n          counter += 1;\r\n          if (followerName + 1 === findName.length) {\r\n            while (responseText[++counter] !== \"<\") {\r\n              name += responseText[counter];\r\n            }\r\n          }\r\n        }\r\n        counter += 2;\r\n        const temp = this.state.stats;\r\n        if (counter < responseText.length - 1) {\r\n          let level: string = \"\";\r\n          let name: string = \"\";\r\n          let status = true;\r\n          while (responseText[counter] !== `\"`) {\r\n            if (responseText[counter] === \":\") {\r\n              status = false;\r\n            } else if (responseText[counter] === \",\") {\r\n              status = true;\r\n              temp.push({ name, level });\r\n              level = \"\";\r\n              name = \"\";\r\n            } else if (status) {\r\n              name += responseText[counter];\r\n            } else {\r\n              level += responseText[counter];\r\n            }\r\n            counter++;\r\n          }\r\n        }\r\n        const names = this.state.name;\r\n        names.push(name);\r\n        this.setState({ stats: temp, link: \"\", name: names });\r\n      });\r\n  }\r\n\r\n  calculateStars(power: number) {\r\n    let stars = 0;\r\n    values.forEach((value) => {\r\n      if (power >= value) {\r\n        stars += 0.5;\r\n      }\r\n    });\r\n\r\n    return stars;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"my-total-reader\">\r\n        <Header className=\"my-header\" size=\"huge\">\r\n          Total Reader\r\n        </Header>\r\n        <Button\r\n          onClick={() => {\r\n            this.setState({ name: [], stats: [] });\r\n          }}\r\n        >\r\n          Delete All\r\n        </Button>\r\n        <Form\r\n          onSubmit={() => {\r\n            let temp = this.state.link.length;\r\n            if (temp > 0) {\r\n              const help = this.state.link.split(\"/\");\r\n              help[help.length - 1] = \"\";\r\n              const full = help.join(\"/\");\r\n              if (\r\n                full === \"https://www.total-football.org/player/\" ||\r\n                full === \"www.total-football.org/player/\"\r\n              ) {\r\n                this.readPage();\r\n              } else if (help[help.length - 2] === \"squad\") {\r\n                this.readTeam();\r\n              } else if (\r\n                help[help.length - 2] === \"team\" ||\r\n                help[help.length - 3] === \"team\"\r\n              ) {\r\n                this.readTeam(this.state.link + \"/squad/\");\r\n              } else if (this.state.link === \"All\") {\r\n                this.try();\r\n              }\r\n              console.log(help);\r\n            }\r\n          }}\r\n        >\r\n          <Form.Field className=\"my-field\">\r\n            <Button color=\"twitter\" type=\"submit\">\r\n              Submit\r\n            </Button>\r\n            <Input\r\n              className=\"my-input\"\r\n              value={this.state.link}\r\n              placeholder=\"Link to a player/team...\"\r\n              onChange={(e) => {\r\n                this.setState({ link: e.target.value });\r\n              }}\r\n            />\r\n          </Form.Field>\r\n        </Form>\r\n        <Button\r\n          onClick={() => {\r\n            this.setState({ filter: !this.state.filter });\r\n          }}\r\n        >\r\n          {this.state.filter ? \"Filter\" : \"Mark\"}\r\n        </Button>\r\n        {mark.map((value) => {\r\n          return (\r\n            <Button\r\n              color={this.state.chose === value ? \"yellow\" : \"red\"}\r\n              onClick={() => {\r\n                this.setState({ chose: value });\r\n              }}\r\n            >\r\n              {value}\r\n            </Button>\r\n          );\r\n        })}\r\n        <div className=\"player-info\">\r\n          {this.state.name.map((name, index) => {\r\n            return !this.state.filter ||\r\n              this.calculateStars(\r\n                Number(this.state.stats[index * (stands - 1)].level)\r\n              ) >= this.state.chose ? (\r\n              <Card className=\"my-card\">\r\n                <div>\r\n                  <Header textAlign=\"center\" className=\"info-name\" size=\"small\">\r\n                    {name}\r\n                  </Header>\r\n                </div>\r\n                {this.state.stats.map((position, offset) => {\r\n                  if (\r\n                    (index + 1) * (stands - 1) > offset &&\r\n                    index * (stands - 1) <= offset\r\n                  ) {\r\n                    return (\r\n                      <Header\r\n                        key={position.name}\r\n                        className={\r\n                          !this.state.filter &&\r\n                          this.state.chose ===\r\n                            this.calculateStars(Number(position.level))\r\n                            ? \"info-header-mark\"\r\n                            : \"info-header\"\r\n                        }\r\n                        size=\"small\"\r\n                      >\r\n                        {position.name} : {position.level}, stars:{\" \"}\r\n                        {this.calculateStars(Number(position.level))}\r\n                      </Header>\r\n                    );\r\n                  } else {\r\n                    return null;\r\n                  }\r\n                })}\r\n              </Card>\r\n            ) : null;\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n"],"sourceRoot":""}