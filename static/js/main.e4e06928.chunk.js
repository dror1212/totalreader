(this.webpackJsonptotalreader=this.webpackJsonptotalreader||[]).push([[0],{186:function(e,t,a){e.exports=a(333)},191:function(e,t,a){},211:function(e,t,a){},333:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(36),s=a.n(l),o=(a(191),a(54)),c=a.n(o),i=a(98),u=a(155),f=a(156),m=a(175),h=a(174),p=a(346),v=a(334),d=a(344),k=a(343),g=a(347),y=a(79),b=a(99),w=a.n(b),E=(a(210),a(211),[9,18,27,35]),S=[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5],N=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={link:"",stats:[],chose:8,filter:!1},n}return Object(f.a)(a,[{key:"try",value:function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=1;case 1:if(!(t<1945)){e.next=14;break}return e.prev=2,e.next=5,this.readTeam("https://www.total-football.org/team/".concat(t,"/squad/"));case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(2),console.log(t),e.abrupt("break",14);case 11:t+=1,e.next=1;break;case 14:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"readTeam",value:function(){var e=Object(i.a)(c.a.mark((function e(t){var a,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t||this.state.link,e.next=3,w.a.get("https://cors-anywhere.herokuapp.com/"+a).then((function(e){for(var t=e.data,a=0,r=0,l="data-age",s=[],o=n.state.stats;a<t.length;){if(t[a]===l[r]?r++:r=0,r+1===l.length){for(a-=10+l.length;'"'!==t[a];)a-=1;a+=1;for(var c="",i="",u=!0;'"'!==t[a];)":"===t[a]?u=!1:","===t[a]?(u=!0,s.push({name:i,level:c}),c="",i=""):u?i+=t[a]:c+=t[a],a++;for(r=0,i="";a<t.length;){if(t[a]==='name="'[r]?r++:r=0,r==='name="'.length){for(a+=1;'"'!==t[a];)i+=t[a],a++;break}a++}for(r=0,i+=" ";a<t.length;){if(t[a]==='name="'[r]?r++:r=0,r==='name="'.length){for(a+=1;'"'!==t[a];)i+=t[a],a++;break}a++}r=0,o.push({player:i,info:s}),i="",s=[]}a+=1}n.setState({link:"",stats:o})}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readPage",value:function(){var e=this;w.a.get("https://cors-anywhere.herokuapp.com/"+this.state.link).then((function(t){for(var a=t.data,n=0,r="data-positions=",l=0,s=0,o="";n<a.length&&l+1!==r.length;)if(a[n]===r[l]?l++:l=0,o||a[n]!=="<title>"[s]?s=0:s++,n+=1,s+1==="<title>".length)for(;"<"!==a[++n];)o+=a[n];var c=[];if((n+=2)<a.length-1)for(var i="",u="",f=!0;'"'!==a[n];)":"===a[n]?f=!1:","===a[n]?(f=!0,c.push({name:u,level:i}),i="",u=""):f?u+=a[n]:i+=a[n],n++;var m=e.state.stats;m.push({player:o,info:c}),e.setState({stats:m,link:""})}))}},{key:"calculateStars",value:function(e){var t=0;return E.forEach((function(a){e>=a&&(t+=.5)})),t}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"my-total-reader"},r.a.createElement(p.a,{className:"my-header",size:"huge"},"Total Reader"),r.a.createElement(v.a,{onClick:function(){e.setState({stats:[]})}},"Delete All"),r.a.createElement(d.a,{onSubmit:function(){if(e.state.link.length>0){var t=e.state.link.split("/");t[t.length-1]="";var a=t.join("/");"https://www.total-football.org/player/"===a||"www.total-football.org/player/"===a?e.readPage():"squad"===t[t.length-2]?e.readTeam():"team"===t[t.length-2]||"team"===t[t.length-3]?e.readTeam(e.state.link+"/squad/"):"All"===e.state.link&&e.try(),console.log(t)}}},r.a.createElement(d.a.Field,{className:"my-field"},r.a.createElement(v.a,{color:"twitter",type:"submit"},"Submit"),r.a.createElement(k.a,{className:"my-input",value:this.state.link,placeholder:"Link to a player/team...",onChange:function(t){e.setState({link:t.target.value})}}))),r.a.createElement(v.a,{onClick:function(){e.setState({filter:!e.state.filter})}},this.state.filter?"Filter":"Mark"),S.map((function(t){return r.a.createElement(v.a,{className:"my-button",color:e.state.chose===t?"yellow":"red",onClick:function(){e.setState({chose:t})}},t)})),r.a.createElement("div",{className:"player-info"},this.state.stats.map((function(t){return!e.state.filter||e.calculateStars(Number(t.info[0].level))>=e.state.chose?r.a.createElement(g.a,{className:"my-card"},r.a.createElement("div",null,r.a.createElement(p.a,{textAlign:"center",className:"info-name",size:"small"},t.player)),t.info.map((function(t){return r.a.createElement(y.a,{key:t.name,className:e.state.filter||e.state.chose!==e.calculateStars(Number(t.level))?"info-header":"info-header-mark"},t.name," : ",t.level,", stars:"," ",e.calculateStars(Number(t.level)))}))):null}))))}}]),a}(n.Component);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root"))}},[[186,1,2]]]);
//# sourceMappingURL=main.e4e06928.chunk.js.map