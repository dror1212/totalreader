(this.webpackJsonptotalreader=this.webpackJsonptotalreader||[]).push([[0],{186:function(e,t,a){e.exports=a(333)},191:function(e,t,a){},211:function(e,t,a){},333:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(36),s=a.n(l),i=(a(191),a(54)),c=a.n(i),o=a(98),u=a(155),f=a(156),h=a(175),m=a(174),p=a(346),d=a(334),k=a(344),v=a(343),g=a(347),y=a(79),b=a(99),E=a.n(b),w=(a(210),a(211),[9,18,27,35]),S=[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5],N=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={link:"",stats:[],chose:8,filter:!1},n}return Object(f.a)(a,[{key:"try",value:function(){var e=Object(o.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=1;case 1:if(!(t<1945)){e.next=14;break}return e.prev=2,e.next=5,this.readTeam("https://www.total-football.org/team/".concat(t,"/squad/"));case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(2),console.log(t),e.abrupt("break",14);case 11:t+=1,e.next=1;break;case 14:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"readTeam",value:function(){var e=Object(o.a)(c.a.mark((function e(t){var a,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t||this.state.link,e.next=3,E.a.get("https://cors-anywhere.herokuapp.com/"+a).then((function(e){for(var t=e.data,a=0,r=0,l="data-age",s=[],i=n.state.stats;a<t.length;){if(t[a]===l[r]?r++:r=0,r+1===l.length){for(a-=10+l.length;'"'!==t[a];)a-=1;a+=1;for(var c="",o="",u="",f=!0;'"'!==t[a];)":"===t[a]?f=!1:","===t[a]?(f=!0,s.push({name:o,level:c}),c="",o=""):f?o+=t[a]:c+=t[a],a++;for(r=0,o="";a<t.length;){if(t[a]==='name="'[r]?r++:r=0,r==='name="'.length){for(a+=1;'"'!==t[a];)o+=t[a],a++;break}a++}for(r=0,o+=" ";a<t.length;){if(t[a]==='name="'[r]?r++:r=0,r==='name="'.length){for(a+=1;'"'!==t[a];)o+=t[a],a++;break}a++}for(r=0;a<t.length;){if(t[a]==='data-id="'[r]?r++:r=0,r==='data-id="'.length){for(a+=1;'"'!==t[a];)u+=t[a],a++;break}a++}r=0,i.push({id:u,player:o,info:s}),o="",s=[]}a+=1}n.setState({link:"",stats:i})}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readPage",value:function(){var e=this;E.a.get("https://cors-anywhere.herokuapp.com/"+this.state.link).then((function(t){for(var a=e.state.link.split("player/")[1].split("/"[0]),n=t.data,r=0,l="data-positions=",s=0,i=0,c="";r<n.length&&s+1!==l.length;)if(n[r]===l[s]?s++:s=0,c||n[r]!=="<title>"[i]?i=0:i++,r+=1,i+1==="<title>".length)for(;"<"!==n[++r];)c+=n[r];var o=[];if((r+=2)<n.length-1)for(var u="",f="",h=!0;'"'!==n[r];)":"===n[r]?h=!1:","===n[r]?(h=!0,o.push({name:f,level:u}),u="",f=""):h?f+=n[r]:u+=n[r],r++;var m=e.state.stats;m.push({id:a.join(""),player:c,info:o}),e.setState({stats:m,link:""})}))}},{key:"calculateStars",value:function(e){var t=0;return w.forEach((function(a){e>=a&&(t+=.5)})),t}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"my-total-reader"},r.a.createElement(p.a,{className:"my-header",size:"huge"},"Total Reader"),r.a.createElement(d.a,{onClick:function(){e.setState({stats:[]})}},"Delete All"),r.a.createElement(k.a,{onSubmit:function(){if(e.state.link.length>0){var t=e.state.link.split("/");t[t.length-1]="","player"===t[t.length-2]||"player"===t[t.length-3]?e.readPage():"squad"===t[t.length-2]?e.readTeam():"team"===t[t.length-2]||"team"===t[t.length-3]?e.readTeam(e.state.link+"/squad/"):"All"===e.state.link&&e.try(),console.log(t)}}},r.a.createElement(k.a.Field,{className:"my-field"},r.a.createElement(d.a,{color:"twitter",type:"submit"},"Submit"),r.a.createElement(v.a,{className:"my-input",value:this.state.link,placeholder:"Link to a player/team...",onChange:function(t){e.setState({link:t.target.value})}}))),r.a.createElement(d.a,{onClick:function(){e.setState({filter:!e.state.filter})}},this.state.filter?"Filter":"Mark"),S.map((function(t){return r.a.createElement(d.a,{className:"my-button",color:e.state.chose===t?"yellow":"red",onClick:function(){e.setState({chose:t})}},t)})),r.a.createElement("div",{className:"player-info"},this.state.stats.map((function(t){return!e.state.filter||e.calculateStars(Number(t.info[0].level))>=e.state.chose?r.a.createElement(g.a,{className:"my-card"},r.a.createElement("a",{href:"https://www.total-football.org/player/".concat(t.id,"/")},r.a.createElement(p.a,{textAlign:"center",className:"info-name",size:"small"},t.player)),t.info.map((function(t){return r.a.createElement(y.a,{key:t.name,className:e.state.filter||e.state.chose!==e.calculateStars(Number(t.level))?"info-header":"info-header-mark"},t.name," : ",t.level,", stars:"," ",e.calculateStars(Number(t.level)))}))):null}))))}}]),a}(n.Component);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root"))}},[[186,1,2]]]);
//# sourceMappingURL=main.cb32b721.chunk.js.map