(this.webpackJsonptotalreader=this.webpackJsonptotalreader||[]).push([[0],{216:function(e,t,a){e.exports=a(385)},221:function(e,t,a){},241:function(e,t,a){},385:function(e,t,a){"use strict";a.r(t);var n,r,l,s=a(0),i=a.n(s),o=a(38),c=a.n(o),u=(a(221),a(62)),m=a.n(u),f=a(113),h=a(60),p=a(185),d=a(205),v=a(203),y=a(399),g=a(398),k=a(43),b=a(386),E=a(396),w=a(395),N=a(400),F=a(89),I=a(114),S=a.n(I),x=(a(240),a(241),[0,9,18,27,35,44,"??","??","??","??","??","??"]),C=[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5],j=["FW","RF","LF","LAM","RAM","AM","LM","RM","CM","LWB","RWB","DM","LD","RD","CD","GK"],M=function e(t,a){Object(h.a)(this,e),this.position=void 0,this.level=void 0,this.position=t,this.level=a};function L(e){var t=-.5;return x.forEach((function(a){"??"===a||e>=a&&(t+=.5)})),t}!function(e){e.age="data-age",e.name='name="',e.dataId='data-id="',e.dataPosition="data-positions=",e.title="<title>"}(n||(n={})),function(e){e.filter="Filter",e.mark="Mark"}(r||(r={})),function(e){e.player="player",e.team="team",e.squad="squad",e.pageSquad="/squad/",e.all="All"}(l||(l={}));var O=function(e){Object(d.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={link:"",stats:{},chose:-1,filter:!1,standsFilter:{counter:0},nameFilter:""},n}return Object(p.a)(a,[{key:"findInHtml",value:function(e,t,a,n){for(var r=0,l="",s=n||'"';a<t.length;){if(t[a]===e[r]?r++:r=0,r===e.length){for(a+=1;t[a]!==s;)l+=t[a],a++;break}a++}return{newInfo:l,counter:a}}},{key:"getPositionsInfo",value:function(e,t,a){for(var n="",r="",l=!0;'"'!==e[t];)":"===e[t]?l=!1:","===e[t]?(l=!0,a.push(new M(r,n)),n="",r=""):l?r+=e[t]:n+=e[t],t++;return t}},{key:"readTeam",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,r=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t||this.state.link,e.next=3,S.a.get("https://cors-anywhere.herokuapp.com/"+a).then((function(e){for(var t,a=e.data,l=0,s=0,i=[],o=r.state.stats;l<a.length;){if(a[l]===n.age[s]?s++:s=0,s+1===n.age.length){for(l-=10+n.age.length;'"'!==a[l];)l-=1;l+=1;var c,u="";l=r.getPositionsInfo(a,l,i),u=(t=r.findInHtml(n.name,a,l)).newInfo+" ",l=t.counter,u+=(t=r.findInHtml(n.name,a,l)).newInfo,l=t.counter,c=(t=r.findInHtml(n.dataId,a,l)).newInfo,l=t.counter,s=0,o[c]?console.log(u+" is already exist"):o[c]={playerName:u,info:i},i=[]}l+=1}r.setState({link:"",stats:o})}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readPage",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,a,r=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.link.split("player/")[1].split("/"[0]).join(""),(a=this.state.stats)[t]){e.next=7;break}return e.next=5,S.a.get("https://cors-anywhere.herokuapp.com/"+this.state.link).then((function(e){var l,s,i=e.data,o=0,c=[];l=(s=r.findInHtml(n.title,i,o,"<")).newInfo,o=s.counter,o=(s=r.findInHtml(n.dataPosition,i,o)).counter+1,o=r.getPositionsInfo(i,o,c),a[t]={playerName:l,info:c}}));case 5:e.next=8;break;case 7:console.log(this.state.stats[t].playerName+" is already exist");case 8:this.setState({stats:a,link:""});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"my-total-reader"},i.a.createElement(y.a,{className:"my-header",size:"huge"},"Total Reader"),i.a.createElement(g.a,{hoverable:!0,basic:!0,trigger:i.a.createElement(k.a,{className:"my-popup",name:"info"})},"The numbers you will see after the players position are the value of this player in this position, each value represent how many stars the player deserve.",i.a.createElement("br",null),function(){var e="";return C.forEach((function(t,a){e+="\n ".concat(x[a],"-").concat(x[a+1]," : ").concat(t,"  , ")})),e=e.slice(0,e.length-4)}()),i.a.createElement(b.a,{onClick:function(){e.setState({stats:{},chose:-1,standsFilter:{counter:0},link:"",nameFilter:"",filter:!1})}},"Delete All"),i.a.createElement(E.a,{onSubmit:function(){if(e.state.link.length>0){var t=e.state.link.split("/");t[t.length-2]===l.player||t[t.length-3]===l.player?e.readPage():t[t.length-2]===l.squad||t[t.length-1]===l.squad?e.readTeam():t[t.length-2]!==l.team&&t[t.length-3]!==l.team||e.readTeam(e.state.link+l.pageSquad)}}},i.a.createElement(E.a.Field,{className:"my-field flex"},i.a.createElement(b.a,{color:"twitter",type:"submit"},"Submit"),i.a.createElement(w.a,{className:"my-input",value:this.state.link,placeholder:"Link to a player/team...",onChange:function(t){e.setState({link:t.target.value})}}))),i.a.createElement(E.a.Field,{className:"flex small-margin"},i.a.createElement(w.a,{className:"my-input",value:this.state.nameFilter,placeholder:"Players name filter",onChange:function(t){e.setState({nameFilter:t.target.value})}})),i.a.createElement(b.a,{onClick:function(){e.setState({filter:!e.state.filter})}},this.state.filter?r.filter:r.mark),C.map((function(t){return i.a.createElement(b.a,{key:t,className:"my-button",color:e.state.chose===t?"yellow":"red",onClick:function(){e.setState({chose:e.state.chose===t?-1:t})}},t)})),i.a.createElement("div",null,j.map((function(t){return i.a.createElement(b.a,{key:t,className:"my-button",color:e.state.standsFilter[t]?"green":"purple",onClick:function(){var a=e.state.standsFilter;a[t]?a.counter--:a.counter++,a[t]=!a[t],e.setState({standsFilter:a})}},t)}))),i.a.createElement("div",{className:"player-info"},Object.entries(this.state.stats).map((function(t){var a=t[1];return a.playerName.slice(0,e.state.nameFilter.length).toLowerCase()!==e.state.nameFilter.toLowerCase()||e.state.filter&&!(L(Number(a.info[0].level))>=e.state.chose)||e.state.standsFilter.counter&&!e.state.standsFilter[a.info[0].position]?null:i.a.createElement(N.a,{className:"my-card"},i.a.createElement("a",{href:"https://www.total-football.org/player/".concat(t[0],"/")},i.a.createElement(y.a,{textAlign:"center",className:"info-name",size:"small"},t[1].playerName)),t[1].info.map((function(a){return!e.state.filter||L(Number(a.level))>=e.state.chose?i.a.createElement(F.a,{key:a.position+t[0],className:e.state.filter||e.state.chose!==L(Number(a.level))?"info-header":"info-header-mark"},a.position," : ",a.level,", stars:"," ",L(Number(a.level))):null})))}))))}}]),a}(s.Component);c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(O,null)),document.getElementById("root"))}},[[216,1,2]]]);
//# sourceMappingURL=main.d2aac6bb.chunk.js.map